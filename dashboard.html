<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>The Ark Heist - Data Dashboard Final v2</title>
    <script src="js/data/SVGdata.js"></script>
    <script src="js/data.js"></script>
    
    <style>
        /* [스타일] 다크 테마 및 레이아웃 */
        :root { --bg: #121212; --panel: #1e1e1e; --border: #333; --accent: #ffcc00; --text: #eee; --input-bg: #2a2a2a; }
        body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; height: 100vh; display: flex; overflow: hidden; }
        
        /* 레이아웃 분할 */
        .col-list { width: 300px; border-right: 1px solid var(--border); display: flex; flex-direction: column; background: var(--panel); }
        .col-edit { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .col-preview { width: 400px; border-left: 1px solid var(--border); background: #000; display: flex; flex-direction: column; padding: 20px; align-items: center; justify-content: center; }

        /* 리스트 영역 */
        .list-header { padding: 15px; border-bottom: 1px solid var(--border); }
        .tab-btn { background: none; border: none; color: #777; cursor: pointer; font-size: 14px; font-weight: bold; margin-right: 10px; }
        .tab-btn.active { color: var(--accent); border-bottom: 2px solid var(--accent); }
        .item-list { flex: 1; overflow-y: auto; }
        .list-item { padding: 10px 15px; cursor: pointer; border-bottom: 1px solid #2a2a2a; display: flex; justify-content: space-between; }
        .list-item:hover { background: #2a2a2a; }
        .list-item.active { background: var(--accent); color: #000; font-weight: bold; }

        /* 편집 영역 */
        .form-group { display: flex; flex-direction: column; gap: 5px; margin-bottom: 10px; }
        .form-row { display: flex; gap: 15px; }
        .form-row .form-group { flex: 1; }
        label { font-size: 12px; color: #aaa; font-weight: 600; text-transform: uppercase; }
        input, textarea, select { background: var(--input-bg); border: 1px solid var(--border); color: #fff; padding: 8px; border-radius: 4px; font-family: monospace; }
        input:focus { outline: none; border-color: var(--accent); }
        textarea { resize: vertical; min-height: 60px; }

        .section-title { font-size: 14px; color: var(--accent); border-bottom: 1px solid var(--border); padding-bottom: 5px; margin-top: 15px; margin-bottom: 10px; }

        /* 버튼 */
        .btn-area { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 12px; }
        .btn-save { background: var(--accent); color: #000; }
        .btn-copy { background: #444; color: #fff; }
        .btn-single { background: #007acc; color: #fff; }

        /* 미리보기 카드 */
        .card-preview-box {
            width: 220px; height: 360px;
            background: #222; border: 2px solid #555; border-radius: 10px;
            position: relative; overflow: hidden; display: flex; flex-direction: column;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        .card-rarity-COMMON { border-color: #aaa; }
        .card-rarity-RARE { border-color: #00ddff; box-shadow: 0 0 15px rgba(0, 221, 255, 0.3); }
        .card-rarity-EPIC { border-color: #d000ff; box-shadow: 0 0 15px rgba(208, 0, 255, 0.3); }
        .card-rarity-LEGENDARY { border-color: #ffcc00; box-shadow: 0 0 20px rgba(255, 204, 0, 0.5); }

.cp-top { 
            height: 160px; 
            background: #333; 
            position: relative; 
            overflow: hidden; 
        }
            .unit-anchor {
            position: absolute;
            top: 70%; left: 50%; /* 카드 상단 70% 지점에 발 위치 */
            width: 0; height: 0;
        }
        .svg-part { position: absolute; }
        .svg-part svg { width: 100%; height: 100%; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5)); }

        /* SVG 렌더링용 스타일 */
        .svg-layer { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90px; height: 90px; }
        .svg-layer svg { width: 100%; height: 100%; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5)); }

        .cp-cost { position: absolute; top: 10px; left: 10px; background: #000; color: var(--accent); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; border: 2px solid var(--accent); z-index: 20; }
        
        .cp-info { flex: 1; background: rgba(0,0,0,0.95); padding: 10px; display: flex; flex-direction: column; gap: 3px; text-align: center; z-index: 20; }
        .cp-name { font-weight: bold; color: #fff; font-size: 18px; margin-bottom: 2px; }
        
        .cp-tags { display: flex; gap: 4px; justify-content: center; flex-wrap: wrap; margin-bottom: 5px; }
        .tag { font-size: 10px; padding: 2px 5px; border-radius: 3px; text-transform: uppercase; font-weight: bold; }
        .tag-race { background: #444; color: #ddd; border: 1px solid #666; }
        .tag-trait { background: #222; color: #aaa; border: 1px solid #444; }

        .cp-desc { font-size: 11px; color: #888; margin-bottom: auto; line-height: 1.2; text-overflow: ellipsis; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }

        .cp-stats { display: flex; justify-content: space-around; font-size: 14px; margin-top: 5px; padding-top: 5px; border-top: 1px solid #333; }
        .cp-stat { display: flex; align-items: center; gap: 4px; font-weight: bold; }
        
        /* 분석 패널 스타일 */
        .analysis-panel { margin-top: 8px; background: #2a2a2a; padding: 8px; border-radius: 5px; font-size: 11px; text-align: left; border: 1px solid #444; }
        .ap-row { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .ap-label { color: #aaa; }
        .ap-val { color: #fff; font-weight: bold; font-family: monospace; }
        .ap-grade { text-align: center; margin-top: 4px; padding-top: 4px; border-top: 1px solid #444; font-weight: bold; }
    </style>
</head>
<body>

    <div class="col-list">
        <div class="list-header">
            <h2 style="margin:0 0 10px 0; color:var(--accent);">DATA MANAGER</h2>
            <div>
                <button class="tab-btn active" onclick="app.switchTab('unit')">UNITS</button>
                <button class="tab-btn" onclick="app.switchTab('skill')">SKILLS</button>
                <button class="tab-btn" onclick="app.switchTab('enemy')">ENEMIES</button>
            </div>
        </div>
        <div id="item-list" class="item-list"></div>
        <div style="padding:10px; border-top:1px solid var(--border);">
            <button class="btn btn-copy" onclick="app.createNew()" style="width:100%">+ NEW ITEM</button>
        </div>
    </div>

    <div class="col-edit">
        <h2 id="edit-title">Select Item</h2>
        
        <div id="editor-form">
            <div style="color:#555; margin-top:20px;">좌측 목록에서 아이템을 선택하세요.</div>
        </div>

        <div class="btn-area" id="action-buttons" style="display:none;">
            <button class="btn btn-save" onclick="app.saveCurrent()">UPDATE MEMORY</button>
            <button class="btn btn-single" onclick="app.exportSingle()">COPY ITEM JS</button>
            <button class="btn btn-copy" onclick="app.exportAll()">COPY ALL DATA JS</button>
        </div>
    </div>

    <div class="col-preview">
        <h3 style="color:#777; margin-bottom:20px;">LIVE PREVIEW</h3>
        <div id="preview-container"></div>
    </div>

    <script>
        // 전역 데이터 접근 (js/data.js가 로드되어 있어야 함)
        window.UNIT_STATS = window.UNIT_STATS || {};
        window.SKILL_STATS = window.SKILL_STATS || {};
        window.ENEMY_DATA_POOL = window.ENEMY_DATA_POOL || {};
        // SVG 데이터가 없으면 빈 객체로 방어
        window.SVG_DATA = window.SVG_DATA || {}; 

        class DashboardApp {
            constructor() {
                this.currentTab = 'unit';
                this.selectedId = null;
                this.tempData = null; // 편집 중인 데이터

                this.renderList();
            }

            switchTab(tab) {
                this.currentTab = tab;
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                event.target.classList.add('active');
                this.selectedId = null;
                this.renderList();
                document.getElementById('editor-form').innerHTML = '<div style="color:#555">Select an item to edit</div>';
                document.getElementById('action-buttons').style.display = 'none';
                document.getElementById('preview-container').innerHTML = '';
            }

            getDataSource() {
                if (this.currentTab === 'unit') return window.UNIT_STATS;
                if (this.currentTab === 'skill') return window.SKILL_STATS;
                if (this.currentTab === 'enemy') return window.ENEMY_DATA_POOL;
                return {};
            }

            renderList() {
                const listEl = document.getElementById('item-list');
                listEl.innerHTML = '';
                const data = this.getDataSource();

                Object.keys(data).forEach(key => {
                    const item = data[key];
                    const div = document.createElement('div');
                    div.className = `list-item ${this.selectedId === key ? 'active' : ''}`;
                    // 리스트에는 name이 없으면 key를 표시
                    div.innerHTML = `<span>${item.name || key}</span> <span style="font-size:11px; opacity:0.5">${key}</span>`;
                    div.onclick = () => this.selectItem(key);
                    listEl.appendChild(div);
                });
            }

            createNew() {
                const id = prompt("Enter new ID (e.g., 'New_Unit'):");
                if(!id) return;
                
                const source = this.getDataSource();
                if(source[id]) { alert("ID already exists!"); return; }

                // 기본 템플릿
                source[id] = {
                    name: id, // 새 유닛은 ID를 기본 이름으로
                    rarity: "COMMON",
                    race: "Human",
                    cost: 3,
                    hp: 100,
                    damage: 10,
                    attackSpeed: 1.0,
                    range: 50,
                    speed: 60,
                    count: 1,
                    parts: { body: "body_knight", weapon: "weapon_sword", acc: "" },
                    traits: [],
                    desc: "새로운 유닛 설명"
                };
                
                this.renderList();
                this.selectItem(id);
            }

            selectItem(id) {
                this.selectedId = id;
                const source = this.getDataSource();
                this.tempData = JSON.parse(JSON.stringify(source[id]));
                
                // [수정] 데이터에 'name' 필드가 없으면 ID(Key)값으로 채움
                if (!this.tempData.name) {
                    this.tempData.name = id;
                }

                // desc가 없고 description이 있으면 이동 (호환성)
                if(!this.tempData.desc && this.tempData.description) {
                    this.tempData.desc = this.tempData.description;
                }

                this.renderList(); // 하이라이트 갱신
                this.renderEditor(id, this.tempData);
                this.updatePreview();
                document.getElementById('action-buttons').style.display = 'flex';
            }

            renderEditor(id, data) {
                const formEl = document.getElementById('editor-form');
                document.getElementById('edit-title').innerText = `Editing: ${id}`;
                
                let html = '';
                const textInput = (key, label, type='text') => `
                    <div class="form-group">
                        <label>${label}</label>
                        <input type="${type}" value="${data[key] !== undefined ? data[key] : ''}" oninput="app.updateField('${key}', this.value)">
                    </div>
                `;
                const textArea = (key, label) => `
                    <div class="form-group">
                        <label>${label}</label>
                        <textarea oninput="app.updateField('${key}', this.value)">${data[key] || ''}</textarea>
                    </div>
                `;
                const select = (key, label, options) => `
                    <div class="form-group">
                        <label>${label}</label>
                        <select onchange="app.updateField('${key}', this.value)">
                            ${options.map(o => `<option value="${o}" ${data[key]===o?'selected':''}>${o}</option>`).join('')}
                        </select>
                    </div>
                `;

                // 1. 기본 정보
                html += `<div class="section-title">BASIC INFO</div>`;
                html += `<div class="form-row">`;
                html += textInput('name', 'Name');
                html += select('rarity', 'Rarity', ['COMMON','RARE','EPIC','LEGENDARY']);
                html += `</div>`;
                html += `<div class="form-row">`;
                html += textInput('cost', 'Cost', 'number');
                html += textInput('count', 'Count (마리수)', 'number'); 
                html += textInput('race', 'Race');
                html += `</div>`;

                // 2. 전투 스탯
                if (this.currentTab !== 'skill') {
                    html += `<div class="section-title">COMBAT STATS</div>`;
                    html += `<div class="form-row">`;
                    html += textInput('hp', 'HP', 'number');
                    html += textInput('damage', 'Damage', 'number');
                    html += `</div>`;
                    html += `<div class="form-row">`;
                    html += textInput('attackSpeed', 'Atk Spd (Sec)', 'number');
                    html += textInput('range', 'Range', 'number');
                    html += textInput('speed', 'Move Spd', 'number');
                    html += `</div>`;
                    
                    html += `<div class="form-row">`;
                    html += select('attackType', 'Attack Type', ['MELEE', 'SHOOT', 'CAST', 'HEAL', 'AREA']);
                    html += textInput('projectileSpeed', 'Proj. Speed', 'number');
                    html += textInput('splashRadius', 'Splash Radius', 'number');
                    html += `</div>`;
                }

                // 3. 비주얼 파츠
                if (this.currentTab !== 'skill') {
                    const parts = data.parts || {};
                    html += `<div class="section-title">VISUAL PARTS (SVG ID)</div>`;
                    html += `<div class="form-row">`;
                    html += `<div class="form-group"><label>Body</label><input type="text" value="${parts.body||''}" oninput="app.updateParts('body', this.value)"></div>`;
                    html += `<div class="form-group"><label>Weapon</label><input type="text" value="${parts.weapon||''}" oninput="app.updateParts('weapon', this.value)"></div>`;
                    html += `<div class="form-group"><label>Acc</label><input type="text" value="${parts.acc||''}" oninput="app.updateParts('acc', this.value)"></div>`;
                    html += `</div>`;
                }

                // 4. 메타 데이터
                html += `<div class="section-title">META DATA</div>`;
                html += textArea('desc', 'Description'); 
                const traitsStr = (data.traits || []).join(', ');
                html += `<div class="form-group"><label>Traits (comma separated)</label>
                    <input type="text" value="${traitsStr}" oninput="app.updateTraits(this.value)"></div>`;

                // 5. 고급 설정
                if (this.currentTab === 'unit') {
                    html += `<div class="section-title">ADVANCED (JSON)</div>`;
                    const bonusTimeStr = data.bonusTime ? data.bonusTime.join(', ') : '';
                    html += `<div class="form-group"><label>Bonus Time [Start, End]</label>
                        <input type="text" value="${bonusTimeStr}" placeholder="e.g. 0, 3" oninput="app.updateBonusTime(this.value)"></div>`;
                    
                    const bonusEffectStr = data.bonusEffect ? JSON.stringify(data.bonusEffect) : '';
                    html += `<div class="form-group"><label>Bonus Effect (JSON)</label>
                        <input type="text" value='${bonusEffectStr}' placeholder='{"stat":"cost", "val":-1}' onchange="app.updateBonusEffect(this.value)"></div>`;
                }

                formEl.innerHTML = html;
            }

            // --- 데이터 업데이트 핸들러 ---
            updateField(key, value) {
                if(['hp','damage','cost','speed','range','attackSpeed','projectileSpeed','splashRadius','count'].includes(key)) {
                    this.tempData[key] = parseFloat(value);
                } else {
                    this.tempData[key] = value;
                }
                this.updatePreview();
            }

            updateParts(partKey, value) {
                if(!this.tempData.parts) this.tempData.parts = {};
                this.tempData.parts[partKey] = value;
                this.updatePreview();
            }

            updateTraits(value) {
                this.tempData.traits = value.split(',').map(s => s.trim()).filter(s => s);
                this.updatePreview();
            }

            updateBonusTime(value) {
                if(!value.trim()) { delete this.tempData.bonusTime; this.updatePreview(); return; }
                this.tempData.bonusTime = value.split(',').map(n => parseFloat(n.trim()));
                this.updatePreview();
            }

            updateBonusEffect(value) {
                try {
                    if(!value.trim()) { delete this.tempData.bonusEffect; return; }
                    this.tempData.bonusEffect = JSON.parse(value);
                } catch(e) { console.error("Invalid JSON"); }
            }

            // --- 란체스터 법칙 기반 전투력 계산 ---
            calculatePower(stats) {
                const count = stats.count || 1;
                const atkSpd = stats.attackSpeed || 1; 

                // 1. 유효 DPS
                let rawDps = (stats.damage / atkSpd) * count; 
                
                const typeMult = (stats.attackType === 'CAST' || stats.attackType === 'AREA') ? 1.5 : 1.0;
                const splashBonus = (stats.splashRadius > 0) ? (1 + stats.splashRadius / 200) : 1.0;
                
                const effectiveDps = rawDps * typeMult * splashBonus;

                // 2. 총 체력
                const totalHp = (stats.hp || 0) * count;

                // 3. 전투력 점수 (HP * DPS의 기하평균)
                const combatPower = Math.sqrt(totalHp * effectiveDps);

                // 4. 유틸리티 보정
                const rangeBonus = Math.max(0, (stats.range || 0) - 50) / 1000; 
                const speedBonus = (stats.speed || 0) / 2000; 

                // 최종 점수 (보정 후)
                const totalScore = combatPower * (1 + rangeBonus + speedBonus);
                
                // 5. 가성비
                const cost = stats.cost || 1;
                const efficiency = totalScore / cost;

                return { 
                    score: Math.round(totalScore), 
                    eff: efficiency.toFixed(1),
                    dps: rawDps.toFixed(1),
                    totalHp: totalHp
                };
            }

        // [신규] 인게임(Unit.js)과 동일한 로직으로 파츠 렌더링
            createPartHtml(key, type) {
                let source = window.SVG_DATA;
                if (typeof SVG_DATA !== 'undefined') source = SVG_DATA;
                if (!source || !key) return '';

                let data = source[key];
                
                // 자동 키 매칭 (예: weapon_sword -> sword)
                if (!data && key.includes('_')) {
                    const shortKey = key.split('_')[1];
                    if (source[shortKey]) data = source[shortKey];
                }

                if (!data) return '';

                // 데이터 타입 처리 (객체/함수/문자열)
                let svgContent = '';
                let color = '#ffffff';

                if (typeof data === 'object') {
                    if (typeof data.render === 'function') {
                        try { svgContent = data.render(); } catch(e) {}
                    } else {
                        svgContent = data.path || data.d || '';
                    }
                    if (data.color) color = data.color;
                }
                else if (typeof data === 'function') {
                    try { svgContent = data(); } catch(e) {}
                }
                else if (typeof data === 'string') {
                    svgContent = data;
                }

                // SVG 태그가 없으면 path로 감싸기
                let finalSvg = svgContent;
                if (!svgContent.trim().startsWith('<svg')) {
                    finalSvg = `<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                        <path d="${svgContent}" fill="${color}" stroke="#000" stroke-width="5"/>
                    </svg>`;
                }

                // --- [위치 계산 로직: Unit.js 참조] ---
                let x = 0, y = 0;
                let transform = '';
                let zIndex = 1;
                let sizeStyle = 'width: 100px; height: 100px;';

                // 1. 몸통 (Body) - Unit.js: setOrigin(0.5, 0.9), y = 15
                if (type === 'body') {
                    x = 0; y = 15;
                    transform = 'translate(-50%, -90%)';
                    zIndex = 10;
                }
                // 2. 무기 (Weapon) - Unit.js: setOrigin(0.5, 0.9), data.offset || {x:18, y:10}
                else if (type === 'weapon') {
                    const offset = (data.offset) ? data.offset : { x: 18, y: 10 };
                    x = offset.x; y = offset.y;
                    transform = 'translate(-50%, -90%)';
                    
                    // depth 처리 (몸통보다 뒤로 갈 수 있음)
                    zIndex = (data.depth !== undefined) ? data.depth + 10 : 20; 
                }
                // 3. 장신구 (Acc) - Unit.js: setDisplaySize(30,30), data.offset || {x:10, y:5}
                else if (type === 'acc') {
                    const offset = (data.offset) ? data.offset : { x: 10, y: 5 };
                    x = offset.x; y = offset.y;
                    transform = 'translate(-50%, -50%)'; // Phaser 기본 Origin (0.5, 0.5)
                    zIndex = (data.depth !== undefined) ? data.depth + 10 : 30;
                    sizeStyle = 'width: 60px; height: 60px;';
                }

                return `
                    <div class="svg-part" style="left:${x}px; top:${y}px; z-index:${zIndex}; ${sizeStyle} transform:${transform};">
                        ${finalSvg}
                    </div>
                `;
            }
            // [수정] updatePreview 메서드
            updatePreview() {
                const container = document.getElementById('preview-container');
                const d = this.tempData;
                if(!d) return;

                const power = (this.currentTab === 'unit' || this.currentTab === 'enemy') 
                              ? this.calculatePower(d) 
                              : { score: '-', eff: '-', dps: '-', totalHp: '-' };
                
                let effColor = '#888'; let grade = 'C';
                if(power.eff >= 15) { effColor = '#ff5555'; grade = 'OP (S)'; }
                else if(power.eff >= 10) { effColor = '#55ff55'; grade = 'Good (A)'; }
                else if(power.eff >= 8) { effColor = '#ffff55'; grade = 'Normal (B)'; }
                else if(power.eff < 8 && power.eff > 0) { effColor = '#aaaaaa'; grade = 'Bad (C)'; }

                const rarityClass = `card-rarity-${d.rarity || 'COMMON'}`;
                
                // SVG 조립 (Anchor div 내부에 배치)
                let visualHtml = '';
                if (d.parts) {
                    visualHtml += this.createPartHtml(d.parts.body, 'body');
                    visualHtml += this.createPartHtml(d.parts.weapon, 'weapon');
                    visualHtml += this.createPartHtml(d.parts.acc, 'acc');
                }

                let tagsHtml = '';
                if (d.race) tagsHtml += `<span class="tag tag-race">${d.race}</span>`;
                if (d.traits) d.traits.forEach(t => tagsHtml += `<span class="tag tag-trait">${t}</span>`);

                container.innerHTML = `
                    <div class="card-preview-box ${rarityClass}">
                        <div class="cp-cost">${d.cost || 0}</div>
                        <div class="cp-top">
                            <div class="unit-anchor">
                                ${visualHtml}
                            </div>
                        </div>
                        <div class="cp-info">
                            <div class="cp-name">${d.name}</div>
                            <div class="cp-tags">${tagsHtml}</div>
                            <div class="cp-desc">${d.desc || d.description || ''}</div>
                            
                            ${this.currentTab !== 'skill' ? `
                            <div class="analysis-panel">
                                <div class="ap-row"><span class="ap-label">전투력:</span> <span class="ap-val">${power.score}</span></div>
                                <div class="ap-row"><span class="ap-label">총 DPS:</span> <span class="ap-val" style="color:#fc0">${power.dps}</span></div>
                                <div class="ap-row"><span class="ap-label">총 체력:</span> <span class="ap-val" style="color:#5f5">${power.totalHp}</span></div>
                                <div class="ap-grade" style="color:${effColor}">
                                    가성비: ${power.eff} (${grade})
                                </div>
                            </div>
                            <div class="cp-stats">
                                <span class="cp-stat"><span style="color:#f55">⚔️</span> ${d.damage}</span>
                                <span class="cp-stat"><span style="color:#5f5">♥</span> ${d.hp}</span>
                                <span class="cp-stat">⚡ ${d.attackSpeed}</span>
                            </div>` : ''}
                        </div>
                    </div>
                `;
            }

            saveCurrent() {
                if(!this.selectedId) return;
                const source = this.getDataSource();
                source[this.selectedId] = JSON.parse(JSON.stringify(this.tempData));
                alert(`Saved [${this.selectedId}] to memory.`);
                this.renderList();
            }

            exportSingle() {
                if(!this.selectedId) return;
                const jsonStr = JSON.stringify(this.tempData, null, 4);
                const output = `"${this.selectedId}": ${jsonStr},`;
                navigator.clipboard.writeText(output).then(() => {
                    alert(`[${this.selectedId}] 코드가 복사되었습니다!\njs/data.js의 목록 안에 붙여넣으세요.`);
                });
            }

            exportAll() {
                let output = "// [Game Data generated by Dashboard]\n\n";
                output += `const UNIT_STATS = ${JSON.stringify(window.UNIT_STATS, null, 4)};\n\n`;
                output += `const SKILL_STATS = ${JSON.stringify(window.SKILL_STATS, null, 4)};\n\n`;
                output += `const ENEMY_DATA_POOL = ${JSON.stringify(window.ENEMY_DATA_POOL, null, 4)};\n\n`;
                navigator.clipboard.writeText(output).then(() => {
                    alert("전체 데이터 코드가 복사되었습니다.");
                });
            }
        }

        window.onload = () => {
            window.app = new DashboardApp();
        };
    </script>
</body>
</html>